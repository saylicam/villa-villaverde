@import "tailwindcss";
/* Pour Tailwind v4 : ces directives aident l'indexation des classes */
@source "./app/**/*.{js,ts,jsx,tsx,mdx}";
@source "./components/**/*.{js,ts,jsx,tsx,mdx}";

/* =========================================
   THEME LUXE — sobre & propre
   ========================================= */
:root{
  /* Neutres */
  --page:#F6F7F8;
  --surface:#FFFFFF;
  --ink:#0F1215;
  --muted:#667085;
  --line:#E5E7EB;

  /* Accents */
  --accent:#B08D57;      /* bronze/champagne */
  --accent-ink:#111315;  /* ancien CTA foncé */

  /* Bleu marine pour CTA */
  --navy:#0F2A5F;
  --navy-ink:#ffffff;

  /* Compat anciennes vars */
  --sand: var(--page);
  --ocean: var(--accent);
  --forest:#1F6E8C;
  --stone: var(--line);
  --gold:#C9A646;

  /* Polices (next/font) */
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);
  --font-display: var(--font-display);

  /* Padding horizontal de la .container (sert aux full-bleed) */
  --container-x: 1rem;
}

/* =========================================
   RESET + RENDU PROPRE
   ========================================= */
*,
*::before,
*::after{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  color:var(--ink);
  background:var(--page);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family: var(--font-sans, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif);
}
::selection{ background: color-mix(in oklab, var(--accent) 40%, white); color:#fff; }

/* =========================================
   UTILITAIRES
   ========================================= */
@layer utilities{
  .container { max-width:1200px; margin-inline:auto; padding-inline:var(--container-x); }

  /* Titres */
  .title-serif   { font-family: var(--font-serif, Georgia, serif); letter-spacing:.2px; }
  .title-display { font-family: var(--font-display, var(--font-serif, Georgia, serif)); font-weight:600; letter-spacing:.005em; }

  /* Échelles typographiques */
  .h1   { font-size: clamp(34px, 4.4vw, 64px); line-height: 1.06; letter-spacing: -0.01em; }
  .h2   { font-size: clamp(24px, 3vw, 40px);   line-height: 1.12; letter-spacing: -0.01em; }
  .lead { font-size: clamp(16px, 1.6vw, 18px); line-height: 1.65; color: var(--muted); }

  /* Boutons — pill en bleu marine */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 text-sm font-medium transition;
    border-radius:9999px;  /* pill */
    border:1px solid rgba(16,18,21,.08);
    box-shadow: 0 6px 18px rgba(0,0,0,.06);
    color: inherit;
  }
  .btn *, .btn svg{ color: inherit !important; }
  .btn-primary{ background: var(--navy); color: var(--navy-ink) !important; border-color: transparent; }
  .btn-primary:hover{ filter:brightness(.95); }
  .btn-dark{ background: var(--navy); color: var(--navy-ink) !important; } /* “dark” = navy */
  .btn-dark:hover{ filter:brightness(1.05); }
  .btn-light{ background:#fff; color:var(--ink) !important; border:1px solid var(--line); }
  .btn-light:hover{ filter:brightness(.98); }
  .btn:focus{ outline:2px solid rgba(176,141,87,.28); outline-offset:2px; }

  /* Surfaces / cards */
  .card { background:var(--surface); border:1px solid var(--line); }
  .shadow-soft { box-shadow: 0 12px 40px rgba(0,0,0,.06); }

  /* Badges (on garde le pill) */
  .chip { @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs; }
  .chip { background: rgba(176,141,87,.10); border:1px solid rgba(176,141,87,.25); color: var(--accent-ink); }

  /* Lisibilité sur image */
  .text-shadow-xl{ text-shadow: 0 3px 28px rgba(0,0,0,.45), 0 1px 10px rgba(0,0,0,.35); }

  /* Masque/fondu bas */
  .mask-fade-b {
    -webkit-mask-image: linear-gradient(to bottom, #000 78%, transparent);
    mask-image: linear-gradient(to bottom, #000 78%, transparent);
  }

  /* Full-bleed helper (sort d'une .container) */
  .full-bleed{
    margin-left: calc(50% - 50vw + var(--container-x));
    margin-right: calc(50% - 50vw + var(--container-x));
  }
}

/* HÉRO — voiles de lisibilité */
.hero-veil{
  position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(to top, rgba(0,0,0,.52), rgba(0,0,0,.26) 45%, rgba(0,0,0,0));
}
.hero-veil-boost{
  position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(140% 80% at 50% 45%, rgba(0,0,0,.32), transparent 60%);
}

/* Liens neutres (sans impacter les boutons) */
main a:not(.btn){ color: var(--ink); }
main a:not(.btn):hover{ opacity:.85; }

/* Calendrier (react-day-picker) */
.rdp button{ color: var(--ink); }
.rdp-day_selected,
.rdp-day_selected:focus-visible,
.rdp-day_selected:hover{
  background: var(--accent-ink) !important;
  color:#fff !important;
  border-color: transparent !important;
}
.rdp-day_today{ border:1px solid rgba(176,141,87,.45) !important; }
.rdp-nav_button{ color: var(--ink) !important; }

/* =========================================
   TEXTE SUR IMAGE (forçage blanc + ombres)
   ========================================= */
.title-on-image{ 
  color:#fff !important;
  text-shadow: 0 4px 30px rgba(0,0,0,.55), 0 1px 10px rgba(0,0,0,.35);
}
.lead-on-image{
  color: rgba(255,255,255,.96) !important;
  text-shadow: 0 3px 22px rgba(0,0,0,.50), 0 1px 8px rgba(0,0,0,.35);
}

/* =========================================
   ACTIVITÉS — Posters + rythme
   ========================================= */
.posters-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.25rem;
  align-items: start;
}
@media (min-width:640px){
  .posters-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .posters-grid .poster:nth-child(2n+1){ margin-top: 2rem; }
}
@media (min-width:1024px){
  .posters-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  .posters-grid .poster:nth-child(3n+1){ margin-top: 2rem; }
  .posters-grid .poster:nth-child(3n+3){ margin-top: 3.5rem; }
}
@media (min-width:1280px){
  .posters-grid{ grid-template-columns: repeat(4, minmax(0,1fr)); }
  .posters-grid .poster:nth-child(4n+1){ margin-top: 3rem; }
  .posters-grid .poster:nth-child(4n+3){ margin-top: 4.5rem; }
  .posters-grid .poster:nth-child(4n+4){ margin-top: 1.5rem; }
}

/* Hauteurs verticalisées */
.poster{ overflow: hidden; }
.act-h-short{ height: 460px; }
.act-h-mid{   height: 620px; }
.act-h-tall{  height: 760px; }
@media (min-width:1280px){
  .act-h-short{ height: 520px; }
  .act-h-mid{   height: 700px; }
  .act-h-tall{  height: 860px; }
}

/* =========================================
   SQUARE MODE — rendu premium sans arrondis
   (on exclut les boutons & chips qui restent en pill)
   ========================================= */

/* 0) Tous médias / containers sensibles */
img, video, iframe { border-radius: 0 !important; }

/* 1) Cartes génériques & dérivés */
.card,
.poster,
.poster-rect,
#galerie .card,
section#galerie .card { border-radius: 0 !important; }

/* 2) Activités (conteneurs de hauteur) */
.poster .act-h-short,
.poster .act-h-mid,
.poster .act-h-tall { border-radius: 0 !important; }

/* 3) SUITES (les 3 cartes) — carrées, avec aspect allongé */
#suites .grid a,
#suites a.block,
a[href^="/suites/"]{
  display:block;
  background:transparent !important;
  border:0 !important;
  border-radius: 0 !important;
  overflow:visible !important;
}
#suites .grid a > .relative,
#suites a.block > .relative,
a[href^="/suites/"] > .relative{
  position:relative;
  overflow:hidden;
  border-radius: 0 !important;
  aspect-ratio: 7 / 5 !important;      /* <768px */
}
@media (min-width:768px){
  #suites .grid a > .relative,
  #suites a.block > .relative,
  a[href^="/suites/"] > .relative{ aspect-ratio: 8 / 5 !important; }
}
@media (min-width:1280px){
  #suites .grid a > .relative,
  #suites a.block > .relative,
  a[href^="/suites/"] > .relative{ aspect-ratio: 9 / 5 !important; }
}

/* Effets image + voile + panneau “verre” */
#suites .grid a > .relative img,
#suites a.block > .relative img,
a[href^="/suites/"] > .relative img{
  transition: transform .55s cubic-bezier(.2,.7,.2,1);
  object-fit: cover;
}
#suites .grid a:hover > .relative img,
#suites a.block:hover > .relative img,
a[href^="/suites/"]:hover > .relative img{ transform: scale(1.035); }

#suites .grid a > .relative::after,
#suites a.block > .relative::after,
a[href^="/suites/"] > .relative::after{
  content:"";
  position:absolute; left:0; right:0; bottom:0;
  height:40%;
  background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,.15), transparent);
  pointer-events:none;
}

#suites .grid a > .p-5,
#suites a.block > .p-5,
a[href^="/suites/"] > .p-5{
  position:relative;
  margin-top: -26px;
  background: rgba(255,255,255,.86);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid var(--line);
  border-radius: 0 !important; /* square */
  box-shadow: 0 12px 40px rgba(0,0,0,.06);
  transition: box-shadow .35s ease, transform .35s ease;
}
#suites .grid a:hover > .p-5,
#suites a.block:hover > .p-5,
a[href^="/suites/"]:hover > .p-5{
  transform: translateY(-2px);
  box-shadow: 0 20px 60px rgba(0,0,0,.12);
}

/* Filet bronze discret au survol */
#suites .grid a > .relative::before,
#suites a.block > .relative::before,
a[href^="/suites/"] > .relative::before{
  content:"";
  position:absolute; inset:10px auto 10px 10px;
  width:2px;
  background: linear-gradient(180deg,
    rgba(176,141,87,0) 0%,
    rgba(176,141,87,.55) 45%,
    rgba(176,141,87,0) 100%);
  opacity: 0;
  transform: scaleY(.85);
  border-radius: 2px;
  transition: opacity .35s ease, transform .35s ease;
}
#suites .grid a:hover > .relative::before,
#suites a.block:hover > .relative::before,
a[href^="/suites/"]:hover > .relative::before{
  opacity: 1;
  transform: scaleY(1);
}

/* Texte des bullets plus doux */
#suites .grid a > .p-5 ul li,
#suites a.block > .p-5 ul li,
a[href^="/suites/"] > .p-5 ul li{
  color: var(--muted);
  line-height: 1.55;
}

/* =========================================
   ACCESSIBILITÉ — reduced motion
   ========================================= */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important; }
}
/* === Images qui “touchent” un bord du viewport malgré .container === */
.edge-right{ margin-right: calc(50% - 50vw + var(--container-x)); }
.edge-left { margin-left:  calc(50% - 50vw + var(--container-x)); }
